# 2022年10月17日

总结一下目前情况:
> * rumor 出现的情况：零星分布(个人)、少数有组织(degree 大)。都随机生成。
> * Truth 的出现情况：大部分有组织（权威、degree 大）。目前暂时认为是固定的。
> * 谣言的检测具有滞后性，需要检测到谣言后再进行行动(如散播真相去纠正)。
> * 点具有两个阈值：influenced & correction。值越低，越容易被影响或纠正。权威Truth node 会改变其 k 阶邻居的 correction 阈值，目前有 2 种计算公式：
>> 1. $P_{correction}=P_0-\frac{P_0}{1+e^{\beta x}}$ 。默认$\beta=1$。 $\beta$ 越小，说明权威Truth node 的纠正能力越强。x 表示第 k 阶邻居，下同。
>> 2. $P_{correction} = P_0-P_0(1-e^{- \frac{1-P_0}{x}})$ 。只与 $P_0$ 自身相关。

关于如何初始化 authoritative Truth & organized Rumor:
> * 试了一下使用 p-value 选取degree显著偏大的顶点。小一点的图，例如阈值设为 1e-7| 就还可以选出不错的结果；但图一旦变大，阈值设置到 $1e^{-100+}$ ，都会有很多点，效果不好。 *( 感觉与图的幂律分布有关 )*
> * 从高于 median/mean degree 的点中选取一部分。目前使用高于 **median degree** 的区分标准，效果还行。

# 2022年10月28日
> * 检测谣言具有滞后性，即谣言在传播一段时间后才会被检测到。处于一种"敌暗我明"的状态。

因此，除了相对固定的 authoritative Truth node，还需要预先设置一些 Monitoring T node，及早的检测到谣言，在检测到谣言后，才可以采取一些其他措施，比如封禁一些点，在某些地方设置 T node 等。

基于以上，问题初步定义为：
> 给定一个图G，n0 个 authoritative Truth nodes，n1 个（随机）的rumor nodes，在总预算 C 内，使得谣言的影响范围最小。*(如果能同时让真相的影响更大，那更好)*

# 2022年10月31日
> * 在谣言被检测到之前，部署的Monitoring T nodes，是为了尽早检测到谣言，实际上有点类似于 "影响最大化问题";
> * 在检测到谣言之后采取的行动，如封禁、传播真相等，实际上等于"谣言遏制"。
> * 本问题将两个问题结合起来。感觉可以实现真相最大化的同时，谣言的传播最小化，如给定一个预算C，部署 Monitoring T nodes 的预算为 C1，后续的行动的预算为 C2，在预算有限的情况下解决上述问题。

# 2022年11月1日
> * 扩散模型基本实现，目前还没发现什么问题
> * 需要研究一下不同网络中，平均第一次检测到谣言的时间(只有固定的几个authoritative T nodes，rumor nodes随机出现) 

# 2022年11月2日
> * 分别在4个数据集上进行了小测试，数据集分别为 dolphin、food、netscience、USpower，顶点数依次增大
> * 每个数据集模拟100次，authoritative T node选取后固定不变，比例为0.004；无other T node；R node 比例依次从 0.01 增大至 0.05. 每次模拟 R node 和阈值均重新生成。

|            | 0.01 | 0.015 | 0.02 | 0.025 | 0.03 | 0.035 | 0.04 | 0.045 | 0.05 |
| ---------- | ---- | ----- | ---- | ----- | ---- | ----- | ---- | ----- | ---- |
| dolphin    | 1.79 | 1.9   | 1.9  | 2.33  | 1.97 | 1.99  | 2.01 | 2.25  | 2.07 |
| food       | 4.86 | 5.7   | 5.69 | 5.15  | 5.51 | 5.08  | 5.41 | 5.19  | 4.52 |
| netscience | 4.24 | 4.19  | 4.45 | 4.93  | 3.82 | 4.24  | 3.91 | 3.74  | 3.59 |
| USpower    | 4.52 | 3.9   | 2.51 | 2.11  | 1.97 | 1.31  | 1.58 | 1.46  | 1.27 |

> * 上述参数不变，但authoritative T node 也随机

|            | 0.01 | 0.015 | 0.02 | 0.025 | 0.03 | 0.035 | 0.04 | 0.045 | 0.05 |
| ---------- | ---- | ----- | ---- | ----- | ---- | ----- | ---- | ----- | ---- |
| dolphin    | 2.02 | 2.24  | 2.01 | 2.31  | 2.27 | 2.43  | 2.44 | 2.32  | 2.28 |
| food       | 4.52 | 4.57  | 4.39 | 3.89  | 4.03 | 3.66  | 4.0  | 3.95  | 3.29 |
| netscience | 4.4  | 4.43  | 3.69 | 4.23  | 3.88 | 3.81  | 4.08 | 3.51  | 3.13 |
| USpower    | 5.87 | 4.22  | 3.41 | 3.13  | 1.88 | 1.9   | 1.78 | 1.43  | 1.76 |

# 2022年11月3日
> * rumor node比例不变，固定为0.05；authoritative T node比例从0.001~0.01；无other T node；每次模拟 R node 和阈值均重新生成。


|            | 0.001 | 0.002 | 0.003 | 0.004 | 0.005 | 0.006 | 0.007 | 0.008 | 0.009 | 0.01 |
| ---------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ---- |
| dolphin    | 2.49  | 2.3   | 2.34  | 2.41  | 2.48  | 2.18  | 2.97  | 2.64  | 2.45  | 2.52 |
| food       | 3.4   | 2.93  | 3.45  | 3.33  | 3.95  | 2.14  | 1.81  | 2.0   | 1.51  | 1.87 |
| netscience | 4.23  | 4.67  | 3.01  | 3.53  | 2.68  | 2.32  | 2.26  | 2.02  | 1.58  | 1.9  |
| USpower    | 5.89  | 2.92  | 1.7   | 1.84  | 1.15  | 1.12  | 1.23  | 1.03  | 1.05  | 1.0  |

> * 总的来说，增加初始 authoritative T node的比例，可以尽早的检测到谣言；同理，随着谣言节点出现的比例上升，遇到 T node 的概率也会上升，即能更早的被检测到。
> * 下图是随着rumor node 比例升高，剩余可用节点比例变化的图：(原图为tiff，在 './res_pic'目录下，该格式无法在markdown中显示)
> ![](res_pic/avg_residual_avail_nodes_1.jpeg)


# 2022年11月4日
> * 需要比较一下：
>> 1. 预先知道谣言种子节点
>> 2. 未知谣言节点（即 T node 未探测到谣言时|对谣言节点是未知的）

# 2022年11月5日
> **已修正（2022.11.13）**
> 测试的算法：ContrId。参数设置：真相点选择比例从 0.01~0.05；谣言节点比例0.05；固定authoritative T node
> * 预先知道谣言节点：

|            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | 8.25   | 6.72   | 5.74   | 5.53   | 5.68   | 6.49   | 5.23   | 5.6    | 5.63   | 5.59   |
| food       | 81.57  | 73.88  | 69.25  | 65.84  | 59.16  | 60.92  | 58.94  | 55.11  | 56.89  | 54.34  |
| netscience | 166.6  | 156.93 | 150.02 | 141.61 | 138.39 | 134.21 | 129.3  | 127.09 | 125.93 | 126.56 |
| USpower    | 583.15 | 531.6  | 502.39 | 482.63 | 459.03 | 449.56 | 424.91 | 412.35 | 397.12 | 384.32 |

> * 未知谣言节点（谣言被检测到之前是未知的）

|            | 0.01    | 0.014   | 0.018  | 0.023   | 0.027   | 0.032   | 0.036   | 0.041   | 0.045   | 0.05    |
| ---------- | ------- | ------- | ------ | ------- | ------- | ------- | ------- | ------- | ------- | ------- |
| dolphins   | 10.648  | 10.51   | 10.878 | 10.45   | 9.69    | 10.122  | 9.512   | 9.68    | 9.504   | 9.282   |
| food       | 104.992 | 103.614 | 97.818 | 96.878  | 94.778  | 90.908  | 91.532  | 89.12   | 88.808  | 85.006  |
| netscience | 210.652 | 208.866 | 206.22 | 208.812 | 206.696 | 208.098 | 203.18  | 206.552 | 206.372 | 204.38  |
| USpower    | 653.31  | 636.28  | 607.86 | 592.08  | 585.334 | 580.076 | 577.892 | 576.926 | 577.682 | 573.976 |

# 2022年11月10日
> **已修正（2022.11.13）**
> 测试算法：ContrId。参数设置同 11月5日。比较最终 T nodes 的规模差距
> * 预先知道谣言节点：

|            | 0.01   | 0.014  | 0.018  | 0.023 | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------ | ------ | ------ | ----- | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | 7.74   | 6.99   | 9.41   | 10.65 | 10.26  | 11.21  | 13.15  | 13.47  | 12.68  | 12.19  |
| food       | 51.0   | 54.51  | 61.5   | 69.09 | 79.55  | 78.61  | 83.75  | 91.14  | 99.37  | 101.92 |
| netscience | 49.9   | 59.25  | 66.09  | 74.52 | 80.79  | 82.36  | 91.53  | 99.09  | 103.86 | 110.89 |
| USpower    | 223.25 | 264.63 | 300.07 | 325.3 | 348.83 | 369.55 | 387.79 | 405.97 | 431.69 | 458.4  |

> * 未知谣言节点（谣言被检测到之前是未知的）

|            | 0.01   | 0.014  | 0.018 | 0.023  | 0.027 | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------ | ------ | ----- | ------ | ----- | ------ | ------ | ------ | ------ | ------ |
| dolphins   | 6.07   | 6.1    | 9.04  | 8.91   | 8.88  | 9.1    | 10.86  | 12.04  | 12.89  | 11.33  |
| food       | 25.23  | 40.55  | 49.19 | 62.56  | 64.21 | 74.89  | 80.03  | 84.96  | 92.42  | 106.76 |
| netscience | 28.36  | 34.99  | 41.73 | 47.75  | 56.46 | 69.44  | 81.66  | 92.64  | 101.23 | 109.09 |
| USpower    | 158.42 | 184.86 | 204.4 | 243.39 | 267.1 | 300.47 | 326.72 | 349.53 | 370.52 | 400.11 |

# 2022年11月11日
> **TCS数据有误**
> 比较算法 ：ContrId & TCS & unblocking
> 参数设置：同 11月10日。
> 都为未知谣言节点

* 平均最终谣言节点

|            |            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032   | 0.036   | 0.041   | 0.045   | 0.05    |
| ---------- | ---------- | ------ | ------ | ------ | ------ | ------ | ------- | ------- | ------- | ------- | ------- |
| dolphions  | ContrId    | 14.78  | 16.08  | 14.62  | 14.97  | 14.73  | 14.89   | 18.22   | 18.77   | 16.58   | 18.58   |
| ^          | TCS        | 13.91  | 14.53  | 13.36  | 13.1   | 14.61  | 14.76   | 14.18   | 14.61   | 16.13   | 16.2    |
| ^          | unblocking | 11.42  | 13.68  | 12.32  | 14.14  | 12.36  | 10.9    | 11.2    | 11.46   | 11.49   | 10.67   |
| food       | ContrId    | 124.06 | 119.31 | 124.46 | 132.07 | 134.38 | 136.27  | 148.59  | 150.79  | 149.22  | 157.9   |
| ^          | TCS        | 156.28 | 159.1  | 165.8  | 177.88 | 169.82 | 169.47  | 180.11  | 175.54  | 182.45  | 179.6   |
| ^          | unblocking | 146.53 | 149.04 | 138.14 | 157.18 | 160.16 | 151.3   | 149.17  | 154.17  | 144.05  | 151.69  |
| netscience | ContrId    | 202.14 | 201.42 | 202.88 | 198.72 | 200.19 | 201.67  | 207.13  | 212.98  | 219.45  | 222.71  |
| ^          | TCS        | 247.29 | 251.12 | 262.61 | 268.61 | 275.68 | 285.56  | 291.38  | 305.59  | 305.25  | 314.47  |
| ^          | unblocking | 224.66 | 224.99 | 221.36 | 225.39 | 220.97 | 224.41  | 224.89  | 225.16  | 220.06  | 223.23  |
| USpower    | ContrId    | 716.03 | 694.42 | 678.85 | 665.34 | 665.63 | 673.08  | 681.89  | 695.69  | 693.31  | 698.77  |
| ^          | TCS        | 875.14 | 907.33 | 954.64 | 967.74 | 999.32 | 1043.81 | 1064.68 | 1091.98 | 1120.22 | 1149.28 |
| ^          | unblocking | 796.96 | 794.18 | 799.56 | 802.52 | 794.87 | 800.33  | 794.78  | 791.78  | 798.07  | 794.97  |

* 平均最终真相节点


|            |            | 0.01   | 0.014 | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ---------- | ------ | ----- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphions  | ContrId    | 3.81   | 4.23  | 4.41   | 5.02   | 4.69   | 4.6    | 4.89   | 5.57   | 5.59   | 5.22   |
| ^          | TCS        | 4.22   | 3.84  | 4.6    | 5.11   | 5.08   | 4.76   | 5.4    | 6.19   | 5.61   | 5.87   |
| ^          | unblocking | 3.76   | 2.64  | 2.96   | 3.93   | 3.13   | 3.88   | 3.12   | 3.6    | 3.61   | 3.24   |
| food       | ContrId    | 47.41  | 46.82 | 48.37  | 49.19  | 52.09  | 56.32  | 56.44  | 57.76  | 62.43  | 62.41  |
| ^          | TCS        | 8.79   | 10.65 | 13.19  | 14.74  | 18.64  | 20.17  | 21.67  | 25.07  | 26.31  | 28.92  |
| ^          | unblocking | 3.89   | 3.85  | 3.26   | 3.42   | 3.29   | 3.67   | 2.86   | 2.81   | 3.31   | 3.62   |
| netscience | ContrId    | 87.32  | 93.99 | 99.93  | 102.73 | 109.57 | 114.24 | 120.15 | 123.65 | 130.92 | 132.02 |
| ^          | TCS        | 19.93  | 25.21 | 31.73  | 36.72  | 43.39  | 47.9   | 53.49  | 59.19  | 64.52  | 70.44  |
| ^          | unblocking | 6.46   | 7.5   | 6.75   | 6.47   | 7.39   | 6.47   | 6.15   | 6.88   | 7.56   | 8.13   |
| USpower    | ContrId    | 329.16 | 348.7 | 369.67 | 385.59 | 404.64 | 422.87 | 439.76 | 458.73 | 476.05 | 497.64 |
| ^          | TCS        | 72.8   | 91.13 | 111.71 | 130.73 | 149.82 | 168.84 | 187.82 | 207.95 | 226.11 | 244.48 |
| ^          | unblocking | 29.9   | 29.39 | 28.74  | 28.02  | 29.85  | 29.32  | 29.19  | 27.76  | 29.58  | 28.92  |

* 平均传播时间


|            |            | 0.01  | 0.014 | 0.018 | 0.023 | 0.027 | 0.032 | 0.036 | 0.041 | 0.045 | 0.05  |
| ---------- | ---------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| dolphions  | ContrId    | 5.69  | 5.99  | 5.64  | 5.81  | 5.43  | 5.99  | 6.06  | 6.47  | 5.89  | 6.32  |
| ^          | TCS        | 5.65  | 5.21  | 5.66  | 5.46  | 5.76  | 6.16  | 5.88  | 6.22  | 6.09  | 6.36  |
| ^          | unblocking | 5.28  | 5.29  | 5.07  | 5.84  | 5.53  | 5.12  | 5.23  | 5.15  | 5.26  | 5.39  |
| food       | ContrId    | 6.19  | 6.06  | 5.9   | 5.98  | 6.21  | 5.92  | 6.2   | 6.03  | 6.31  | 6.14  |
| ^          | TCS        | 9.27  | 9.48  | 9.37  | 9.77  | 9.9   | 10.05 | 9.89  | 9.5   | 10.36 | 10.09 |
| ^          | unblocking | 8.31  | 8.39  | 7.89  | 8.91  | 8.68  | 8.56  | 8.39  | 8.32  | 8.11  | 7.96  |
| netscience | ContrId    | 6.1   | 5.9   | 5.96  | 5.94  | 5.86  | 5.68  | 6.07  | 6.03  | 6.03  | 6.18  |
| ^          | TCS        | 7.65  | 8.27  | 8.35  | 8.29  | 8.43  | 8.48  | 8.85  | 8.84  | 8.82  | 8.44  |
| ^          | unblocking | 7.32  | 7.62  | 7.2   | 7.24  | 7.44  | 7.5   | 7.13  | 7.38  | 7.26  | 7.56  |
| USpower    | ContrId    | 8.91  | 8.58  | 8.62  | 8.21  | 8.53  | 8.93  | 8.6   | 8.71  | 8.63  | 8.54  |
| ^          | TCS        | 10.63 | 10.79 | 11.37 | 11.72 | 11.49 | 11.36 | 11.21 | 11.49 | 11.21 | 11.46 |
| ^          | unblocking | 10.25 | 10.16 | 10.2  | 10.58 | 10.56 | 10.73 | 10.76 | 10.31 | 10.4  | 10.39 |

* 100次运行时间

|            |         | running time |
| ---------- | ------- | ------------ |
| dolphins   | ContrId | 2.8s         |
| ^          | TCS     | 2.7s         |
| food       | ContrId | 42.6s        |
| ^          | TCS     | 1m53.7s      |
| netscience | ContrId | 42.9s        |
| ^          | TCS     | 5m27.6s      |
| USpower    | ContrId | 2m29.5s      |
| ^          | TCS     | 49m30.2s     |

# 2022年11月12日
> 根据昨天的运行结果，随着网络的增大，TCS的效果也逐渐变差，只有最终真相节点的数量比较接近。
> 可能的原因：
> 1. TCS可能是不太适合本模型使用;
> 2. 实际上我不是一次性运行的，jupyter重启了几次，因此 model 的 authoritative T nodes 不一致，导致结果有差异。但之前的实验显示是否随机 authoritative T nodes，差距不是很明显。但还是重新跑一次全随机的看看。
> 3. TCS代码可能存在bug。
> 
> 此外，TCS的运行时间比预想的慢很多。通过line_profiler分析，主要费时在 `np.exp()` 函数上。换成 `math.exp()` 就好很多。
> * 代码错误修复：
>> 1. 感觉实验结果很怪。检查了一下传播模型，发现函数 `after_detected_diffusion` 中新添加的 `T_node` 初始化时，初始成了错误的类型，导致增加了真相节点的比列，谣言节点的数量还在增加的错误结果。
>> 2. TCS算法修复。
>
> **因此，11月4日至11月10日的实验，结果数据都有误。**

# 2022年11月13日
> 根据11月12日分析结果，重新进行实验。实验参数设置同11月11日，每次authoritative T nodes 随机生成，都未知谣言节点

* 平均最终谣言节点数量

|            |            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | Contrid    | 11.04  | 11.45  | 10.03  | 10.47  | 9.08   | 8.64   | 10.4   | 9.2    | 9.15   | 10.03  |
| ^          | TCS        | 11.46  | 10.88  | 12.42  | 11.02  | 11.88  | 10.78  | 12.59  | 11.48  | 10.69  | 11.43  |
| ^          | unblocking | 12.6   | 10.5   | 12.19  | 12.1   | 11.16  | 12.02  | 12.3   | 10.53  | 12.47  | 11.74  |
| food       | ContrId    | 94.88  | 88.61  | 83.56  | 77.76  | 80.45  | 76.24  | 74.32  | 75.5   | 75.52  | 73.46  |
| ^          | TCS        | 144.26 | 143.06 | 150.56 | 148.24 | 148.44 | 144.3  | 139.51 | 141.3  | 143.0  | 140.2  |
| ^          | unblocking | 148.12 | 147.53 | 147.82 | 142.6  | 153.33 | 151.49 | 145.46 | 151.1  | 159.23 | 143.05 |
| netscience | ContrId    | 181.84 | 180.35 | 181.47 | 178.99 | 176.82 | 177.99 | 177.33 | 177.59 | 176.92 | 175.65 |
| ^          | TCS        | 226.41 | 223.27 | 219.24 | 220.68 | 221.4  | 221.6  | 220.77 | 220.6  | 219.26 | 221.8  |
| ^          | unblocking | 223.74 | 224.44 | 223.59 | 223.62 | 227.96 | 223.78 | 223.35 | 220.61 | 226.25 | 224.84 |
| USpower    | ContrId    | 610.56 | 592.94 | 561.39 | 546.03 | 544.31 | 532.79 | 526.29 | 525.92 | 524.16 | 526.25 |
| ^          | TCS        | 795.61 | 788.4  | 782.13 | 787.5  | 782.23 | 765.55 | 775.25 | 768.43 | 770.53 | 756.29 |
| ^          | unblocking | 793.82 | 802.91 | 811.54 | 798.69 | 794.72 | 790.62 | 786.93 | 807.95 | 798.91 | 794.85 |


* 平均最终真相节点数量

|            |            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | Contrid    | 6.89   | 5.97   | 8.24   | 9.13   | 9.42   | 9.51   | 10.97  | 12.0   | 13.48  | 11.76  |
| ^          | TCS        | 6.54   | 4.74   | 6.38   | 6.93   | 6.69   | 7.74   | 7.86   | 7.86   | 7.61   | 9.02   |
| ^          | unblocking | 3.63   | 3.4    | 4.44   | 3.89   | 3.42   | 3.12   | 4.27   | 3.03   | 3.58   | 3.28   |
| food       | ContrId    | 73.11  | 80.19  | 81.91  | 100.07 | 99.6   | 104.97 | 116.07 | 126.73 | 133.39 | 144.08 |
| ^          | TCS        | 13.55  | 16.5   | 21.41  | 24.31  | 29.07  | 31.57  | 35.05  | 38.89  | 43.42  | 49.0   |
| ^          | unblocking | 3.15   | 2.73   | 3.32   | 2.85   | 3.53   | 3.2    | 2.73   | 3.54   | 3.05   | 3.2    |
| netscience | ContrId    | 102.42 | 110.84 | 116.78 | 120.41 | 125.87 | 133.89 | 147.07 | 158.56 | 163.78 | 178.98 |
| ^          | TCS        | 38.81  | 52.3   | 67.04  | 80.31  | 94.7   | 103.2  | 118.49 | 130.12 | 143.61 | 152.03 |
| ^          | unblocking | 6.93   | 7.72   | 7.27   | 7.27   | 7.03   | 7.57   | 7.21   | 6.76   | 7.0    | 6.81   |
| USpower    | ContrId    | 426.43 | 453.15 | 481.17 | 504.24 | 527.56 | 560.61 | 589.17 | 614.78 | 642.34 | 665.2  |
| ^          | TCS        | 137.42 | 187.54 | 226.56 | 280.51 | 322.09 | 365.77 | 407.06 | 452.02 | 493.94 | 546.07 |
| ^          | unblocking | 29.92  | 29.27  | 29.54  | 29.13  | 30.4   | 29.04  | 30.33  | 28.98  | 30.52  | 29.21  |

* 平均传播时间

|            |            | 0.01  | 0.014 | 0.018 | 0.023 | 0.027 | 0.032 | 0.036 | 0.041 | 0.045 | 0.05  |
| ---------- | ---------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| dolphins   | Contrid    | 5.89  | 6.39  | 6.47  | 5.82  | 6.84  | 6.68  | 6.62  | 7.55  | 6.57  | 7.08  |
| ^          | TCS        | 5.84  | 5.06  | 5.87  | 5.48  | 5.77  | 5.63  | 6.04  | 5.68  | 5.27  | 5.79  |
| ^          | unblocking | 5.47  | 5.15  | 5.15  | 5.55  | 5.44  | 5.33  | 5.28  | 5.52  | 5.42  | 5.47  |
| food       | ContrId    | 7.27  | 7.82  | 8.04  | 7.82  | 7.43  | 8.81  | 8.42  | 8.02  | 8.04  | 8.75  |
| ^          | TCS        | 8.76  | 8.64  | 9.19  | 9.11  | 9.17  | 8.9   | 8.5   | 8.55  | 8.55  | 9.37  |
| ^          | unblocking | 8.8   | 8.29  | 8.69  | 8.72  | 9.14  | 8.79  | 8.86  | 8.88  | 8.55  | 8.83  |
| netscience | ContrId    | 5.39  | 5.09  | 5.14  | 5.12  | 5.34  | 5.96  | 5.82  | 6.17  | 6.19  | 6.25  |
| ^          | TCS        | 8.05  | 8.09  | 8.04  | 8.18  | 8.24  | 9.05  | 8.34  | 7.83  | 8.68  | 8.71  |
| ^          | unblocking | 7.06  | 7.32  | 7.13  | 7.0   | 7.81  | 6.94  | 7.02  | 7.43  | 7.15  | 6.97  |
| USpower    | ContrId    | 7.3   | 7.25  | 7.25  | 7.43  | 6.64  | 7.26  | 7.44  | 8.03  | 7.66  | 7.83  |
| ^          | TCS        | 10.38 | 10.93 | 10.19 | 10.45 | 10.81 | 10.79 | 10.58 | 10.73 | 10.58 | 10.61 |
| ^          | unblocking | 10.34 | 10.7  | 10.76 | 10.27 | 9.95  | 10.61 | 10.7  | 10.47 | 10.09 | 10.41 |

* TCS 与 ContrId 在选择 T nodes 时的比较

![](res_pic/T_node_select_cmp_1.png)

> 综合以上实验结果，在本模型中：
> * TCS算法对谣言的遏制纠正效果比ContrId要差，最终真相节点的数量也比ContrId要少。
> * TCS与unblocking相比，可以说TCS的抑制效果微弱。
> * 在初次检测到谣言时，各算法对 T nodes 选择的有所差异。图中红色的点表示 T node，黄色的点表示 R node。TCS 选择的 T node 很分散| 常在网络的边缘处出现；ContrId 选择的 T node 比较集中，分布在 R node 的高发地区。
> 
> 在修复完模型与算法的错误后，TCS的效果仍不理想，说明确实与模型的关系很大。未来对模型进行丰富时，也许TCS的效果会提升。

# 2022年11月14日
> 补充了一个基于顶点度的算法，即按顶点度的大小降序排序，选前 k 个点作为 T nodes。
> 参数设置与其他算法实验结果沿用11月13日。

* 平均最终谣言节点数量

|            |            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | Contrid    | 11.04  | 11.45  | 10.03  | 10.47  | 9.08   | 8.64   | 10.4   | 9.2    | 9.15   | 10.03  |
| ^          | TCS        | 11.46  | 10.88  | 12.42  | 11.02  | 11.88  | 10.78  | 12.59  | 11.48  | 10.69  | 11.43  |
| ^          | degree     | 11.31  | 11.59  | 10.32  | 10.98  | 9.34   | 10.91  | 10.62  | 10.14  | 12.15  | 9.7    |
| ^          | unblocking | 12.6   | 10.5   | 12.19  | 12.1   | 11.16  | 12.02  | 12.3   | 10.53  | 12.47  | 11.74  |
| food       | ContrId    | 94.88  | 88.61  | 83.56  | 77.76  | 80.45  | 76.24  | 74.32  | 75.5   | 75.52  | 73.46  |
| ^          | TCS        | 144.26 | 143.06 | 150.56 | 148.24 | 148.44 | 144.3  | 139.51 | 141.3  | 143.0  | 140.2  |
| ^          | degree     | 123.54 | 125.62 | 129.09 | 111.6  | 124.42 | 104.95 | 114.95 | 107.53 | 107.25 | 104.67 |
| ^          | unblocking | 148.12 | 147.53 | 147.82 | 142.6  | 153.33 | 151.49 | 145.46 | 151.1  | 159.23 | 143.05 |
| netscience | ContrId    | 181.84 | 180.35 | 181.47 | 178.99 | 176.82 | 177.99 | 177.33 | 177.59 | 176.92 | 175.65 |
| ^          | TCS        | 226.41 | 223.27 | 219.24 | 220.68 | 221.4  | 221.6  | 220.77 | 220.6  | 219.26 | 221.8  |
| ^          | degree     | 216.81 | 216.06 | 217.24 | 213.61 | 216.86 | 206.32 | 211.3  | 210.82 | 206.89 | 205.93 |
| ^          | unblocking | 223.74 | 224.44 | 223.59 | 223.62 | 227.96 | 223.78 | 223.35 | 220.61 | 226.25 | 224.84 |
| USpower    | ContrId    | 610.56 | 592.94 | 561.39 | 546.03 | 544.31 | 532.79 | 526.29 | 525.92 | 524.16 | 526.25 |
| ^          | TCS        | 795.61 | 788.4  | 782.13 | 787.5  | 782.23 | 765.55 | 775.25 | 768.43 | 770.53 | 756.29 |
| ^          | degree     | 770.43 | 766.43 | 753.95 | 749.8  | 732.97 | 730.04 | 731.1  | 717.9  | 721.9  | 716.31 |
| ^          | unblocking | 793.82 | 802.91 | 811.54 | 798.69 | 794.72 | 790.62 | 786.93 | 807.95 | 798.91 | 794.85 |


* 平均最终真相节点数量

|            |            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045   | 0.05    |
| ---------- | ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------- | ------- |
| dolphins   | Contrid    | 6.89   | 5.97   | 8.24   | 9.13   | 9.42   | 9.51   | 10.97  | 12.0   | 13.48   | 11.76   |
| ^          | TCS        | 6.54   | 4.74   | 6.38   | 6.93   | 6.69   | 7.74   | 7.86   | 7.86   | 7.61    | 9.02    |
| ^          | degree     | 8.54   | 7.96   | 11.47  | 12.88  | 12.29  | 13.48  | 14.61  | 16.43  | 15.88   | 17.34   |
| ^          | unblocking | 3.63   | 3.4    | 4.44   | 3.89   | 3.42   | 3.12   | 4.27   | 3.03   | 3.58    | 3.28    |
| food       | ContrId    | 73.11  | 80.19  | 81.91  | 100.07 | 99.6   | 104.97 | 116.07 | 126.73 | 133.39  | 144.08  |
| ^          | TCS        | 13.55  | 16.5   | 21.41  | 24.31  | 29.07  | 31.57  | 35.05  | 38.89  | 43.42   | 49.0    |
| ^          | degree     | 90.39  | 118.14 | 125.56 | 152.6  | 156.23 | 180.79 | 169.95 | 189.63 | 196.85  | 206.5   |
| ^          | unblocking | 3.15   | 2.73   | 3.32   | 2.85   | 3.53   | 3.2    | 2.73   | 3.54   | 3.05    | 3.2     |
| netscience | ContrId    | 102.42 | 110.84 | 116.78 | 120.41 | 125.87 | 133.89 | 147.07 | 158.56 | 163.78  | 178.98  |
| ^          | TCS        | 38.81  | 52.3   | 67.04  | 80.31  | 94.7   | 103.2  | 118.49 | 130.12 | 143.61  | 152.03  |
| ^          | degree     | 85.08  | 92.5   | 108.39 | 134.74 | 163.51 | 188.56 | 209.78 | 223.01 | 244.98  | 255.3   |
| ^          | unblocking | 6.93   | 7.72   | 7.27   | 7.27   | 7.03   | 7.57   | 7.21   | 6.76   | 7.0     | 6.81    |
| USpower    | ContrId    | 426.43 | 453.15 | 481.17 | 504.24 | 527.56 | 560.61 | 589.17 | 614.78 | 642.34  | 665.2   |
| ^          | TCS        | 137.42 | 187.54 | 226.56 | 280.51 | 322.09 | 365.77 | 407.06 | 452.02 | 493.94  | 546.07  |
| ^          | degree     | 356.36 | 472.11 | 581.94 | 668.59 | 764.95 | 861.66 | 934.32 | 1025.4 | 1092.14 | 1175.77 |
| ^          | unblocking | 29.92  | 29.27  | 29.54  | 29.13  | 30.4   | 29.04  | 30.33  | 28.98  | 30.52   | 29.21   |

* 平均传播时间

|            |            | 0.01  | 0.014 | 0.018 | 0.023 | 0.027 | 0.032 | 0.036 | 0.041 | 0.045 | 0.05  |
| ---------- | ---------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| dolphins   | Contrid    | 5.89  | 6.39  | 6.47  | 5.82  | 6.84  | 6.68  | 6.62  | 7.55  | 6.57  | 7.08  |
| ^          | TCS        | 5.84  | 5.06  | 5.87  | 5.48  | 5.77  | 5.63  | 6.04  | 5.68  | 5.27  | 5.79  |
| ^          | degree     | 6.13  | 5.78  | 6.12  | 6.18  | 6.26  | 6.31  | 6.61  | 6.3   | 6.36  | 6.36  |
| ^          | unblocking | 5.47  | 5.15  | 5.15  | 5.55  | 5.44  | 5.33  | 5.28  | 5.52  | 5.42  | 5.47  |
| food       | ContrId    | 7.27  | 7.82  | 8.04  | 7.82  | 7.43  | 8.81  | 8.42  | 8.02  | 8.04  | 8.75  |
| ^          | TCS        | 8.76  | 8.64  | 9.19  | 9.11  | 9.17  | 8.9   | 8.5   | 8.55  | 8.55  | 9.37  |
| ^          | degree     | 9.14  | 9.91  | 9.77  | 10.26 | 10.44 | 9.53  | 9.81  | 9.38  | 9.6   | 9.82  |
| ^          | unblocking | 8.8   | 8.29  | 8.69  | 8.72  | 9.14  | 8.79  | 8.86  | 8.88  | 8.55  | 8.83  |
| netscience | ContrId    | 5.39  | 5.09  | 5.14  | 5.12  | 5.34  | 5.96  | 5.82  | 6.17  | 6.19  | 6.25  |
| ^          | TCS        | 8.05  | 8.09  | 8.04  | 8.18  | 8.24  | 9.05  | 8.34  | 7.83  | 8.68  | 8.71  |
| ^          | degree     | 8.95  | 8.05  | 9.24  | 8.76  | 9.33  | 8.33  | 8.95  | 8.26  | 8.44  | 8.41  |
| ^          | unblocking | 7.06  | 7.32  | 7.13  | 7.0   | 7.81  | 6.94  | 7.02  | 7.43  | 7.15  | 6.97  |
| USpower    | ContrId    | 7.3   | 7.25  | 7.25  | 7.43  | 6.64  | 7.26  | 7.44  | 8.03  | 7.66  | 7.83  |
| ^          | TCS        | 10.38 | 10.93 | 10.19 | 10.45 | 10.81 | 10.79 | 10.58 | 10.73 | 10.58 | 10.61 |
| ^          | degree     | 10.37 | 10.72 | 10.47 | 10.39 | 10.2  | 10.27 | 10.61 | 10.35 | 10.07 | 10.29 |
| ^          | unblocking | 10.34 | 10.7  | 10.76 | 10.27 | 9.95  | 10.61 | 10.7  | 10.47 | 10.09 | 10.41 |

* degree based 算法选择的T node 分布
![](res_pic/degree_select_T_detected.png)

> 基于顶点度的算法，对谣言抑制效果一般，但对真相扩散的效果不错。