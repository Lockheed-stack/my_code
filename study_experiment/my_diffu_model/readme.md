# 2022年10月17日

总结一下目前情况:
> * rumor 出现的情况：零星分布(个人)、少数有组织(degree 大)。都随机生成。
> * Truth 的出现情况：大部分有组织（权威、degree 大）。目前暂时认为是固定的。
> * 谣言的检测具有滞后性，需要检测到谣言后再进行行动(如散播真相去纠正)。
> * 点具有两个阈值：influenced & correction。值越低，越容易被影响或纠正。权威Truth node 会改变其 k 阶邻居的 correction 阈值，目前有 2 种计算公式：
>> 1. $P_{correction}=P_0-\frac{P_0}{1+e^{\beta x}}$ 。默认$\beta=1$。 $\beta$ 越小，说明权威Truth node 的纠正能力越强。x 表示第 k 阶邻居，下同。
>> 2. $P_{correction} = P_0-P_0(1-e^{- \frac{1-P_0}{x}})$ 。只与 $P_0$ 自身相关。

关于如何初始化 authoritative Truth & organized Rumor:
> * 试了一下使用 p-value 选取degree显著偏大的顶点。小一点的图，例如阈值设为 1e-7| 就还可以选出不错的结果；但图一旦变大，阈值设置到 $1e^{-100+}$ ，都会有很多点，效果不好。 *( 感觉与图的幂律分布有关 )*
> * 从高于 median/mean degree 的点中选取一部分。目前使用高于 **median degree** 的区分标准，效果还行。

# 2022年10月28日
> * 检测谣言具有滞后性，即谣言在传播一段时间后才会被检测到。处于一种"敌暗我明"的状态。

因此，除了相对固定的 authoritative Truth node，还需要预先设置一些 Monitoring T node，及早的检测到谣言，在检测到谣言后，才可以采取一些其他措施，比如封禁一些点，在某些地方设置 T node 等。

基于以上，问题初步定义为：
> 给定一个图G，n0 个 authoritative Truth nodes，n1 个（随机）的rumor nodes，在总预算 C 内，使得谣言的影响范围最小。*(如果能同时让真相的影响更大，那更好)*

# 2022年10月31日
> * 在谣言被检测到之前，部署的Monitoring T nodes，是为了尽早检测到谣言，实际上有点类似于 "影响最大化问题";
> * 在检测到谣言之后采取的行动，如封禁、传播真相等，实际上等于"谣言遏制"。
> * 本问题将两个问题结合起来。感觉可以实现真相最大化的同时，谣言的传播最小化，如给定一个预算C，部署 Monitoring T nodes 的预算为 C1，后续的行动的预算为 C2，在预算有限的情况下解决上述问题。

# 2022年11月1日
> * 扩散模型基本实现，目前还没发现什么问题
> * 需要研究一下不同网络中，平均第一次检测到谣言的时间(只有固定的几个authoritative T nodes，rumor nodes随机出现) 

# 2022年11月2日
> * 分别在4个数据集上进行了小测试，数据集分别为 dolphin、food、netscience、USpower，顶点数依次增大
> * 每个数据集模拟100次，authoritative T node选取后固定不变，比例为0.004；无other T node；R node 比例依次从 0.01 增大至 0.05. 每次模拟 R node 和阈值均重新生成。

|            | 0.01 | 0.015 | 0.02 | 0.025 | 0.03 | 0.035 | 0.04 | 0.045 | 0.05 |
| ---------- | ---- | ----- | ---- | ----- | ---- | ----- | ---- | ----- | ---- |
| dolphin    | 1.79 | 1.9   | 1.9  | 2.33  | 1.97 | 1.99  | 2.01 | 2.25  | 2.07 |
| food       | 4.86 | 5.7   | 5.69 | 5.15  | 5.51 | 5.08  | 5.41 | 5.19  | 4.52 |
| netscience | 4.24 | 4.19  | 4.45 | 4.93  | 3.82 | 4.24  | 3.91 | 3.74  | 3.59 |
| USpower    | 4.52 | 3.9   | 2.51 | 2.11  | 1.97 | 1.31  | 1.58 | 1.46  | 1.27 |

> * 上述参数不变，但authoritative T node 也随机

|            | 0.01 | 0.015 | 0.02 | 0.025 | 0.03 | 0.035 | 0.04 | 0.045 | 0.05 |
| ---------- | ---- | ----- | ---- | ----- | ---- | ----- | ---- | ----- | ---- |
| dolphin    | 2.02 | 2.24  | 2.01 | 2.31  | 2.27 | 2.43  | 2.44 | 2.32  | 2.28 |
| food       | 4.52 | 4.57  | 4.39 | 3.89  | 4.03 | 3.66  | 4.0  | 3.95  | 3.29 |
| netscience | 4.4  | 4.43  | 3.69 | 4.23  | 3.88 | 3.81  | 4.08 | 3.51  | 3.13 |
| USpower    | 5.87 | 4.22  | 3.41 | 3.13  | 1.88 | 1.9   | 1.78 | 1.43  | 1.76 |

# 2022年11月3日
> * rumor node比例不变，固定为0.05；authoritative T node比例从0.001~0.01；无other T node；每次模拟 R node 和阈值均重新生成。


|            | 0.001 | 0.002 | 0.003 | 0.004 | 0.005 | 0.006 | 0.007 | 0.008 | 0.009 | 0.01 |
| ---------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ---- |
| dolphin    | 2.49  | 2.3   | 2.34  | 2.41  | 2.48  | 2.18  | 2.97  | 2.64  | 2.45  | 2.52 |
| food       | 3.4   | 2.93  | 3.45  | 3.33  | 3.95  | 2.14  | 1.81  | 2.0   | 1.51  | 1.87 |
| netscience | 4.23  | 4.67  | 3.01  | 3.53  | 2.68  | 2.32  | 2.26  | 2.02  | 1.58  | 1.9  |
| USpower    | 5.89  | 2.92  | 1.7   | 1.84  | 1.15  | 1.12  | 1.23  | 1.03  | 1.05  | 1.0  |

> * 总的来说，增加初始 authoritative T node的比例，可以尽早的检测到谣言；同理，随着谣言节点出现的比例上升，遇到 T node 的概率也会上升，即能更早的被检测到。
> * 下图是随着rumor node 比例升高，剩余可用节点比例变化的图：(原图为tiff，在 './res_pic'目录下，该格式无法在markdown中显示)
> ![](res_pic/avg_residual_avail_nodes_1.jpeg)


# 2022年11月4日
> * 需要比较一下：
>> 1. 预先知道谣言种子节点
>> 2. 未知谣言节点（即 T node 未探测到谣言时|对谣言节点是未知的）

# 2022年11月5日
> 测试的算法：ContrId。参数设置：真相点选择比例从 0.01~0.05；谣言节点比例0.05；固定authoritative T node
> * 预先知道谣言节点：

|            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | 7.902  | 7.806  | 6.262  | 6.292  | 6.168  | 6.374  | 5.364  | 5.322  | 5.514  | 5.548  |
| food       | 81.1   | 77.13  | 69.28  | 67.96  | 64.81  | 62.81  | 59.69  | 57.52  | 55.25  | 55.84  |
| netscience | 170.56 | 157.55 | 150.29 | 145.94 | 138.89 | 132.69 | 129.26 | 128.05 | 126.68 | 123.53 |
| USpower    | 581.65 | 538.66 | 504.18 | 484.44 | 463.55 | 447.51 | 425.6  | 406.44 | 394.66 | 381.66 |

> * 未知谣言节点（谣言被检测到之前是未知的）

|            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | 14.128 | 14.658 | 15.338 | 16.014 | 16.066 | 15.176 | 17.998 | 17.914 | 19.288 | 18.912 |
| food       | 156.44 | 168.42 | 177.59 | 194.34 | 200.59 | 202.4  | 211.39 | 212.36 | 214.6  | 230.48 |
| netscience | 216.61 | 216.72 | 217.39 | 214.56 | 218.24 | 222.72 | 236.94 | 233.73 | 240.71 | 241.12 |
| USpower    | 759.77 | 741.85 | 725.54 | 714.86 | 716.54 | 716.44 | 724.53 | 740.4  | 741.97 | 754.54 |

# 2022年11月10日
> 测试算法：ContrId。参数设置同 11月5日。比较最终 T nodes 的规模差距
> * 预先知道谣言节点：

|            | 0.01   | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | 6.264  | 6.526  | 9.104  | 9.65   | 9.446  | 9.476  | 12.334 | 12.202 | 12.432 | 12.072 |
| food       | 43.18  | 50.25  | 55.89  | 62.7   | 72.45  | 83.45  | 83.23  | 85.41  | 98.32  | 99.11  |
| netscience | 48.24  | 59.46  | 64.39  | 72.86  | 78.71  | 85.15  | 91.75  | 97.48  | 103.14 | 109.46 |
| USpower    | 220.02 | 261.47 | 295.45 | 317.78 | 344.32 | 356.65 | 384.51 | 400.16 | 426.16 | 455.31 |

> * 未知谣言节点（谣言被检测到之前是未知的）

|            | 0.01  | 0.014 | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041 | 0.045  | 0.05  |
| ---------- | ----- | ----- | ------ | ------ | ------ | ------ | ------ | ----- | ------ | ----- |
| dolphins   | 3.124 | 3.342 | 3.566  | 3.814  | 3.838  | 3.768  | 4.096  | 4.452 | 4.522  | 4.664 |
| food       | 6.8   | 9.32  | 11.43  | 13.81  | 16.21  | 18.34  | 20.67  | 22.92 | 24.94  | 27.13 |
| netscience | 17.76 | 22.43 | 28.08  | 33.44  | 39.47  | 44.8   | 49.98  | 55.51 | 61.53  | 67.4  |
| USpower    | 67.41 | 87.94 | 104.81 | 125.83 | 145.13 | 164.73 | 186.12 | 203.3 | 223.61 | 243.3 |

# 2022年11月11日
> 比较算法 ：ContrId & TCS & unblocking
> 参数设置：同 11月10日。
> 都为未知谣言节点
* 平均最终谣言节点数量

|            |         | 0.01       | 0.014  | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------- | ---------- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | Contrid | 14.45      | 16.1   | 16.67  | 14.82  | 17.74  | 17.26  | 19.21  | 20.41  | 18.82  | 20.78  |
| ^          | TCS     | 13.81      | 13.25  | 14.38  | 13.0   | 13.65  | 16.18  | 14.16  | 16.15  | 16.31  | 16.47  |
| food       | ContrId | 156.84     | 161.13 | 178.36 | 188.97 | 187.11 | 202.2  | 195.58 | 207.4  | 212.09 | 219.02 |
| ^          | TCS     | 154.66     | 164.94 | 163.61 | 157.86 | 167.9  | 169.18 | 176.06 | 176.03 | 184.87 | 188.83 |
| netscience | ContrId | 219.09     | 215.94 | 211.76 | 212.14 | 213.29 | 219.37 | 227.06 | 233.97 | 238.24 | 238.15 |
| ^          | TCS     | 244.68     | 256.53 | 266.39 | 269.72 | 281.86 | 285.04 | 287.09 | 295.17 | 309.96 | 311.62 |
| USpower    | ContrId | 744.68     | 735.3  | 727.19 | 726.44 | 714.49 | 717.9  | 731.51 | 740.54 | 739.04 | 750.29 |
| ^          | TCS     | ---------- |


* 平均最终真相节点数量

|            |         | 0.01       | 0.014 | 0.018  | 0.023  | 0.027  | 0.032  | 0.036  | 0.041  | 0.045  | 0.05   |
| ---------- | ------- | ---------- | ----- | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| dolphins   | Contrid | 4.86       | 4.21  | 5.57   | 5.69   | 6.84   | 5.27   | 5.73   | 6.31   | 7.15   | 6.66   |
| ^          | TCS     | 3.84       | 3.29  | 3.76   | 4.81   | 4.23   | 4.59   | 4.34   | 5.12   | 5.02   | 4.8    |
| food       | ContrId | 8.01       | 10.5  | 13.01  | 15.03  | 17.21  | 19.94  | 22.18  | 24.53  | 26.46  | 28.38  |
| ^          | TCS     | 8.29       | 10.31 | 12.41  | 15.09  | 16.79  | 18.82  | 21.12  | 23.94  | 25.83  | 27.69  |
| netscience | ContrId | 22.9       | 28.56 | 34.63  | 39.39  | 45.89  | 52.7   | 56.17  | 63.16  | 68.27  | 74.22  |
| ^          | TCS     | 18.88      | 24.55 | 30.11  | 36.22  | 41.01  | 47.37  | 52.67  | 58.21  | 63.72  | 68.99  |
| USpower    | ContrId | 75.9       | 96.34 | 116.66 | 136.01 | 154.45 | 173.37 | 194.63 | 213.47 | 233.29 | 252.83 |
| ^          | TCS     | ---------- |

* 平均传播时间

|            |         | 0.01       | 0.014 | 0.018 | 0.023 | 0.027 | 0.032 | 0.036 | 0.041 | 0.045 | 0.05  |
| ---------- | ------- | ---------- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ----- |
| dolphins   | Contrid | 5.89       | 6.39  | 6.47  | 5.82  | 6.84  | 6.68  | 6.62  | 7.55  | 6.57  | 7.08  |
| ^          | TCS     | 5.82       | 5.34  | 5.68  | 5.51  | 5.6   | 5.85  | 5.38  | 5.99  | 5.97  | 6.06  |
| food       | ContrId | 7.27       | 7.82  | 8.04  | 7.82  | 7.43  | 8.81  | 8.42  | 8.02  | 8.04  | 8.75  |
| ^          | TCS     | 9.65       | 9.51  | 9.53  | 10.04 | 9.82  | 10.73 | 10.84 | 10.16 | 10.92 | 10.57 |
| netscience | ContrId | 5.39       | 5.09  | 5.14  | 5.12  | 5.34  | 5.96  | 5.82  | 6.17  | 6.19  | 6.25  |
| ^          | TCS     | 8.72       | 8.84  | 9.6   | 9.31  | 9.45  | 9.37  | 9.54  | 9.81  | 10.0  | 9.97  |
| USpower    | ContrId | 7.3        | 7.25  | 7.25  | 7.43  | 6.64  | 7.26  | 7.44  | 8.03  | 7.66  | 7.83  |
| ^          | TCS     | ---------- |

* 100次运行时间

|            |         | running time |
| ---------- | ------- | ------------ |
| dolphins   | ContrId | 2.8s         |
| ^          | TCS     | 2.7s         |
| food       | ContrId | 42.6s        |
| ^          | TCS     | 1m53.7s      |
| netscience | ContrId | 42.9s        |
| ^          | TCS     | 5m27.6s      |
| USpower    | ContrId | 2m29.5s      |
| ^          | TCS     | ?            |